<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户帖子管理</title>
    <link href="css/baseCss.css" rel="stylesheet">
    <script type="text/javascript" src="js/postManager.js"></script>
</head>
<body>
<div style="width: 100%;font-weight: bold;margin-top: 5px;">
	<center>
	<p>帖子管理</p>
	</center>
	<hr style="margin-top: 5px;">
</div>
<div class="header-search">
    <div class="header-one">
        <div class="header-name">
            开始时间:
        </div>
        <div class="header-input">
            <input type="text" class="form-control" id="startTime"
                   placeholder="请输入开始时间" onclick="laydate({istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
        </div>
    </div>
    <div class="header-one">
        <div class="header-name">
            结束时间:
        </div>
        <div class="header-input">
            <input type="text" class="form-control" id="endTime"
                   placeholder="请输入结束时间" onclick="laydate({istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
        </div>
    </div>

    <div class="header-right">
        <button class="btn btn-success" style="margin-left: 5px" id="searchBtn">搜索</button>
    </div>
    <div class="header-right">
        <div class="header-name">
            搜索框:
        </div>
        <div class="header-input">
            <input type="text" class="form-control" id="searchName"
                   placeholder="帖子名称">
        </div>
    </div>
    <div style="clear: both">

    </div>
</div>
<div class="content-body">
    <table class="table table-hover">
        <thead>
        <tr>
            <th>帖子标题</th>
            <th>创建人</th>
            <th>帖子主要图片URL</th>
            <th>帖子所属专业</th>
            <th>帖子主要内容</th>
            <th>回帖数</th>
            <th>关注帖子人数</th>
            <th>帖子创建时间</th>
            <th>帖子更新时间</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody id="appendBody">
        <tr>
            <td>TanmaeBangalore</td>
            <td>Bangalangalorev</td>
            <td>560lore</td>
            <td>Tanmay</td>
            <td>Bangal</td>
            <td>560001</td>
            <td>Tanmay</td>
            <td>Bangal</td>
            <td>560001</td>
            <td>
                <button class="btn btn-success" style="margin-left: 5px" data-toggle="modal"
                        data-target="#showPostDetails">查看详情
                </button>
                <button class="btn btn-success" style="margin-left: 5px">删除</button>
            </td>
        </tr>
        <tr>
            <td>Sachin</td>
            <td>Mumbai</td>
            <td>400003</td>
            <td>Tanmay</td>
            <td>Bangalore</td>
            <td>560001</td>
            <td>Tanmay</td>
            <td>Bangal</td>
            <td>560001</td>
            <td>
                <button class="btn btn-success" style="margin-left: 5px" data-toggle="modal"
                        data-target="#showPostDetails">查看详情
                </button>
                <button class="btn btn-success" style="margin-left: 5px">删除</button>
            </td>
        </tr>
        <tr>
            <td>Uma</td>
            <td>Pune</td>
            <td>411027</td>
            <td>Tanmay</td>
            <td>Bangalore</td>
            <td>560001</td>
            <td>Tanmay</td>
            <td>Bangal</td>
            <td>560001</td>
            <td>
                <button class="btn btn-success" style="margin-left: 5px" data-toggle="modal"
                        data-target="#showPostDetails">查看详情
                </button>
                <button class="btn btn-success" style="margin-left: 5px">删除</button>
            </td>
        </tr>
        </tbody>
    </table>
    <div id="jqueryPage" class="tcdPageCode">

    </div>
</div>


<!-- 模态框（Modal） -->
<div class="modal fade" id="showPostDetails" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel" style="text-align: center">
                    帖子标题
                </h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">帖子标题:</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="postTitle" type="text"
                                   value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">主要图片URL</label>
                        <div class="col-sm-10" id="postUrl">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">所属专业:</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="postName" type="text"
                                   value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">主要内容:</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" rows="3" id="postContent"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">回帖数:</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="postRepliesNumber" type="text"
                                   value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">关注人数:</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="postFollowPeopleNumber" type="text"
                                   value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">创建时间:</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="postCreateTime" type="text"
                                   value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">更新时间:</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="postUpdateTime" type="text"
                                   value="">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-danger btn-delete" id="post-delete-btn">
                    删除帖子
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
</body>
<script id="post-template" type="text/html">
    {{each msg as post i}}
    <tr>
        <td style="max-width: 200px;">{{post.postTitle}}</td>
        <td style="max-width: 200px;">{{post.sysUser.sysUserLoginName}}</td>
        <td style="max-width: 200px;">{{post.postUrl}}</td>
        <td style="max-width: 200px;">{{post.postName}}</td>
        <td style="max-width: 200px;">{{post.postContent}}</td>
        <td style="max-width: 200px;">{{post.postRepliesNumber}}</td>
        <td style="max-width: 200px;">{{post.postFollowPeopleNumber}}</td>
        <td style="max-width: 200px;">{{post.postCreateTime}}</td>
        <td style="max-width: 200px;">{{post.postUpdateTime}}</td>
        <td style="max-width: 200px;">
            <button class="btn btn-success btn-details" style="margin-left: 5px" data-toggle="modal"
                    data-target="#showPostDetails" postCuid = {{post.postCuid}}>查看详情
            </button>
            <!--<button class="btn btn-success btn-" style="margin-left: 5px" postCuid = {{post.postCuid}}>查看回复</button>-->
            <button class="btn btn-danger btn-delete" style="margin-left: 5px" postCuid = {{post.postCuid}}>删除</button>
        </td>
    </tr>
    {{/each}}
</script>
</html>